<app-user-submenu></app-user-submenu>
<div class="send-screen-1 qlc-content-home qlc-after-submenu" *ngIf="activePanel == 'send'">



	<!-- SEND FORM -->
	<div class="container mt-0 qlc-content-first">
		<div class="row">
			<div class="col-12 pl-0 pr-0 pb-2">
				<!-- LATEST TRANSACTIONS -->
				<div class="container">
						<div class="row">
							<!-- TITLE -->
							<div class="col-md-9 col-12 mt-2 pl-md-2 pr-md-2">
								<div class="content-title">
									<h1>Send tokens</h1>
								</div>
							</div>
							<div class="col-md-3 col-12 pl-md-2 pr-md-2">
									<button type="submit" class="btn btn-primary content-header float-right w-100 pl-0 pr-0" routerLink="/wallets">
										Back to my Wallets
									</button>
							</div>
						</div>
					</div>
			</div>
		</div>
	</div>

	<div class="container accounts">
		<div class="row">

			<!-- ADDRESS -->
			<div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 mt-2 mb-0 pl-md-2 pr-md-2 pl-sm-2 pb-xl-5 pb-lg-5 pb-2 mb-md-0 mb-sm-0 mb-md-0 mb-0">
				<div class="content-box-blue h-100 pb-3">
					<div class="container">

					<div class="row qlc-table-header-blue">
						<div class="col-12">Address</div>
					</div>
					<div class="row qlc-table-row-blue row-text-mid mt-3">
						<div class="col-12 text-break pr-3">{{ fromAccountID }}</div>
					</div>
					
					</div>
				</div>
			</div>


			<!-- BALANCES -->
			<div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 pb-3">
					<div class="container pl-0 pr-0">
						<div class="row pl-0 pr-0">

						<!-- QLC BALANCES -->
						<div class="col-md-4 col-12 pl-md-2 pr-md-2 pl-sm-2 pb-2 mb-0 order-md-1 order-1">
							<div class="content-box-white h-auto mt-2 pb-2 balance-box" [class.active]="selectedToken.tokenName == 'QLC'" (click)="selectTokenIcon('QLC')">
								
								<div class="container">
									<div class="row qlc-table-header-white">
										<div class="col-12">QLC Balance</div>
									</div>
								</div>
								<div class="container">
									<div class="row">
										<div class="col-3 mt-3">
											<img src="assets/img/token-qlc.png" class="w-100 icon-token">
										</div>
										<div class="col-9 pr-0 pl-0">
											<div class="row qlc-table-row-white row-text-mid mt-3 pb-0">
												<div class="col-12 pb-0">{{ tokenBalance('QLC') | qlc: 8 | currency:'':'':'1.2-8' }}</div>
											</div>
											<div class="row qlc-table-row-white sub-page pt-0">
												<div class="col-12 text-wrap pt-0"><span class="text-blue">-</span></div>
											</div>
										</div>
									</div>
								</div>

							</div>
						</div>

						<!-- QGAS BALANCES -->
						<div class="col-md-4 col-12 pl-md-2 pr-md-2 pl-sm-2 pb-2 mb-0 order-md-2 order-2">
							<div class="content-box-white h-auto mt-2 pb-2 balance-box" [class.active]="selectedToken.tokenName == 'QGAS'" (click)="selectTokenIcon('QGAS')">
								
								<div class="container">
									<div class="row qlc-table-header-white">
										<div class="col-12">QGAS Balance</div>
									</div>
								</div>
								<div class="container">
									<div class="row">
										<div class="col-3 mt-3">
											<img src="assets/img/token-qgas.png" class="w-100 icon-token">
										</div>
										<div class="col-9 pr-0 pl-0">
											<div class="row qlc-table-row-white row-text-mid mt-3 pb-0">
												<div class="col-12 pb-0">{{ tokenBalance('QGAS') | qlc: 8 | currency:'':'':'1.2-8' }}</div>
											</div>
											<div class="row qlc-table-row-white sub-page pt-0">
												<div class="col-12 text-wrap pt-0"><span class="text-blue">-</span></div>
											</div>
										</div>
									</div>
								</div>

							</div>
						</div>

						<!-- OTHER TOKENS BALANCES -->
						<div class="col-md-4 col-12 pl-md-2 pr-md-2 pl-sm-2 pb-2 mb-0 order-md-3 order-3">
							<div class="content-box-white h-auto mt-2 pb-2 balance-box" [class.active]="selectedToken.tokenName != 'QLC' && selectedToken.tokenName != 'QGAS'">
								<div class="container">
									<div class="row qlc-table-header-white">
										<div class="col-12">Other Tokens Balances</div>
									</div>
								</div>
								<!-- QLC -->
								<div class="container">
									<div class="row pb-2">
										
											<carousel [interval]="otherInterval" [(activeSlide)]="activeSlideIndex" class="w-100" style="margin-top:-4px;margin-bottom:3px;">
												
												<slide class="otherSlide" *ngFor="let token of otherTokens">
													<div class="row pt-3 pl-3 pr-3 mb-2 pb-1" (click)="selectTokenIcon(token.tokenInfo.tokenSymbol)" [class.activeOther]="selectedToken.tokenInfo.tokenSymbol == token.tokenInfo.tokenSymbol">
														<div class="col-3 pr-3 pt-1">
															<img src="assets/img/token-none.png" class="w-100 icon-token" style="padding-right:2px;">
														</div>
														<div class="col-9 pr-0 pl-0 mb-2 pb-0">
															<div class="row qlc-table-row-white row-text-mid mt-0 pb-1">
																<div class="col-12 pb-0 mb-0"><span style="color: #a8a6ae;font-size: 12px;text-transform: uppercase;font-weight: 700; line-height:14px;">{{ token.tokenInfo.tokenSymbol }} ({{ token.tokenInfo.tokenName }})</span></div>
																<div class="col-12 pb-0 pt-0 mt-0" style="color: #595757;font-size: 14px;text-transform: uppercase;font-weight: 700; line-height:16px;">{{ token.balance | qlc: token.tokenInfo.decimals | currency:'':'':'1.2-8'}}</div>
															</div>
														</div>
													</div>
												</slide>
												
											</carousel>
										
									</div>
								</div>
							</div>
						</div>

						<!-- SEND FORM -->
						<div class="col-12 pl-md-2 pr-md-2 pl-sm-2 pb-2 order-md-4 order-1 mb-0 mb-md-4">
							<div class="content-box-white h-auto mt-2 pb-2 pl-2 pr-2">

								<div class="container ml-1 pr-3 pl-3">

									<div *ngIf="!accounts.length" class="row defaultTable content">
										<div class="col-12 text-center">
											{{ 'NO_WALLET_CONFIGURED' | translate
											}}<a routerLink="/createwallet">{{ 'NO_WALLET_CONFIGURED_CLICK' | translate }}</a>
										</div>
									</div>
									<div *ngIf="accounts.length" class="row defaultTable sendTokens">
										<div class="col-12">
											
											<div class="row rowContent mb-5">
												<div class="col-md-2 dataName pb-3 pb-md-0 form-label-custom-2">{{ 'SEND_TOKENS_TAB.amount' | translate }}</div>
												<div class="col-md-10">
													<div class="row align-items-top">
														<div class="col-md-6 pb-3 pb-md-0">
															<div class="input-group">
																<div class="input-group-prepend">
																	<div class="input-group-text ">
																		{{ selectedToken.tokenInfo ? selectedToken.tokenInfo.tokenName : '' }}
																	</div>
																</div>
																<input
																	type="text"
																	class="form-control inlineForm"
																	[(ngModel)]="amount"
																	placeholder="{{ 'SEND_TOKENS_TAB.amount_placeholder' | translate }}"
																	onfocus="this.placeholder = ''"
																	style="height: 42.5px !important;"
																/>
																<div class="input-group-append">
																	<a (click)="setMaxAmount()">
																		<div class="input-group-text maxLink">{{ 'SEND_TOKENS_TAB.max' | translate }}</div>
																	</a>
																</div>
															</div>
														</div>
														<div class="col-md-6 d-block d-md-none pb-3 pb-md-0">
															<div class="input-group">
																<div class="input-group-prepend"><div class="input-group-text">USD/$</div></div>
																<input
																	type="text"
																	class="form-control inlineForm2"
																	[(ngModel)]="amountFiat"
																	placeholder="{{ 'SEND_TOKENS_TAB.amount_placeholder' | translate }}"
																	onfocus="this.placeholder = ''"
																/>
															</div>
														</div>
														<div class="col-md-6 pt-2 pt-md-0">
															<div class="row align-items-top">
																<div class="col-md-3 dataName pb-3 pb-md-0 form-label-custom-2">{{ 'TOKEN' | translate }}</div>
																<div class="col-md-9">
																	<div class="form-group">
																		<select class="custom-select" [(ngModel)]="selectedTokenSymbol" (change)="selectToken()">
																			<option *ngFor="let token of accountTokens" [value]="token.tokenInfo.tokenSymbol">{{
																				token.tokenInfo.tokenSymbol
																			}}</option>
																		</select>
																	</div>
																</div>
															</div>
														</div>
													</div>
													<div class="row align-items-top pt-3 pt-md-2">
														<div class="col-md-6 d-none d-md-block">
															<div class="input-group" *ngIf="hideFiat != 1">
																<div class="input-group-prepend"><div class="input-group-text">USD/$</div></div>
																<input
																	type="text"
																	class="form-control inlineForm2"
																	placeholder="{{ 'SEND_TOKENS_TAB.amount_placeholder' | translate }}"
																/>
															</div>
															<div class="row">
																<div class="col-md-5 dataName pb-3 pb-md-0 form-label-custom-2">MAX. DECIMALS</div>
																<div class="col-md-5 ">
																	<div class="balance" *ngIf="selectedToken.balance">
																	{{ selectedToken.tokenInfo.decimals }}
																	</div>
																</div>
															</div>
														</div>
														<div class="col-md-6">
															<div class="row align-items-top">
																<div class="col-md-3 dataName pb-3 pb-md-0 form-label-custom-2">{{ 'BALANCE' | translate }}</div>
																<div class="col-md-9 ">
																	<div class="row">
																		<div class="col-6 pr-0 balance" *ngIf="selectedToken.balance">
																			{{ selectedToken.balance | qlc: selectedToken.tokenInfo.decimals | currency:'':'':'1.0-'+selectedToken.tokenInfo.decimals }}
																		</div>
																		<div class="col-6 pl-0 text-right fiat">(-)</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>


											<div class="row">
												<div class="col-md-2 dataName pb-3 pb-md-0 form-label-custom-2">
													{{ 'SEND_TOKENS_TAB.from_account' | translate }}
												</div>
												<div class="col-md-10">
													<div class="form-group">
														<select class="custom-select" [(ngModel)]="fromAccountID" (change)="selectAccount()">
															<option *ngFor="let account of accounts" [value]="account.id"
																>{{ account.addressBookName ? account.addressBookName + ' - ' : '' }} {{ account.id }}</option
															>
														</select>
													</div>
												</div>
											</div>

											
											<div class="row">
												<div class="col-md-2 dataName pb-3 pb-md-0 form-label-custom-2">
													{{ 'SEND_TOKENS_TAB.to_account' | translate }}
												</div>
												<div class="col-md-10 text-left text-truncate">
													<div class="form-group">
														<select
															class="custom-select contacts"
															[(ngModel)]="bookContact"
															(change)="selectFromBook()"
															[ngClass]="{ success: toAccountStatus === 2, dangerRight: toAccountStatus === 0 }"
														>
															<option *ngFor="let book of (addressBookResults$ | async)" [value]="book.account"
																>{{ book.name }} {{ book.account }}</option
															>
														</select>
														<input
															type="text"
															class="form-control toaccount"
															placeholder="{{ 'SEND_TOKENS_TAB.to_account_placeholder' | translate }}"
															onfocus="this.placeholder = ''"
															(blur)="validateDestination()"
															[(ngModel)]="toAccountID"
															[ngClass]="{ success: toAccountStatus === 2, dangerLeft: toAccountStatus === 0 }"
														/>
													</div>
												</div>
											</div>


											<div class="row rowAmount pl-3 pl-sm-3 pl-sm-3 pr-3 pr-sm-3 pr-sm-3">
												<div class="col-md-2"></div>
												<div class="col-lg-5 col-md-4 col-sm-12 col-12 pl-0 pr-0 pl-md-2 pr-md-2">
													<button type="submit" class="btn btn-primary" (click)="sendTransaction()" style="min-width:100%;">
														{{ 'SEND_TOKENS_TAB.send' | translate }}
													</button>
												</div>
											</div>
										</div>
									</div>
								</div>

							</div>
						</div>

					</div>
				</div>
			</div>


		</div>
	</div>		

</div>
<!-- END SEND FORM-->







<div class="send-screen-2 qlc-content-home qlc-after-submenu" *ngIf="activePanel == 'confirm'">
		<!-- SEND FORM -->
		<div class="container mt-0 qlc-content-first">
			<div class="row">
				<div class="col-12 pl-0 pr-0">
					
					<!-- TITLE -->
					<div class="col-lg-12 mt-2 pl-md-2 pr-md-2">
						<div class="content-title">
							<h1>{{ 'SEND_TOKENS_TAB.confirm_transaction' | translate }}</h1>
						</div>
					</div>
	
				</div>
			</div>
		</div>
	

		<div class="container">
			<div class="row confirmTransaction">
	
				<!-- ADDRESS -->
				<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mt-2 mb-0 pl-md-2 pr-md-2 pl-sm-2 pb-xl-5 pb-lg-5 pb-2 mb-md-0 mb-sm-0 mb-md-0 mb-0">
					<div class="content-box-white h-auto pb-5">
						<div class="container mb-3">
	

									<div class="row align-items-center fromText pt-5">
										<div class="col-12 text-label">{{ 'SEND_TOKENS_TAB.you_are_about_to_send' | translate }}</div>
									</div>
									<div class="row align-items-center ">
										<div class="col-12 sum">
											<span>{{ rawAmount | qlc: selectedToken.tokenInfo.decimals | currency:'':'':'1.0-'+selectedToken.tokenInfo.decimals }} {{ selectedTokenSymbol }}</span>
										</div>
									</div>
									<div class="row align-items-center">
										<div class="col-12 " *ngIf="hideFiat != 1">
											<span class="fiatsum">{{ amountFiat | fiat: settings.settings.displayCurrency }}</span>
											<span class="fiatrate" 
												> @ {{ price.price.lastPrice | fiat: settings.settings.displayCurrency }} / {{ selectedTokenSymbol }}</span
											>
										</div>
									</div>
									<div class="row transfer">
										<div class="col-lg-6 text-center pt-4 pb-4">
											<div class="text-label pb-2">{{ 'SEND_TOKENS_TAB.from_account' | translate }}</div>
											<div class="pl-5 pr-5 text-truncate pt-1 pb-1">
												<a [routerLink]="'/account/' + fromAccountID" class="name">
													<span *ngIf="fromAddressBook">{{ fromAddressBook }}</span>
													<span class="d-none d-xl-block" *ngIf="!fromAddressBook">
														{{ fromAccountID | squeeze : '15,15' }}
													</span>
													<span class="d-none d-lg-block d-xl-none" *ngIf="!fromAddressBook">
														{{ fromAccountID | squeeze : '12,12' }}
													</span>
													<span class="d-none d-md-block d-lg-none" *ngIf="!fromAddressBook">
														{{ fromAccountID | squeeze : '20,20' }}
													</span>
													<span class="d-none d-sm-block d-md-none" *ngIf="!fromAddressBook">
														{{ fromAccountID | squeeze : '15,15' }}
													</span>
													<span class="d-block d-sm-none" *ngIf="!fromAddressBook">
														{{ fromAccountID | squeeze : '12,12' }}
													</span>
												</a>
											</div>
											<div class="pl-5 pr-5 pb-4">
												<a [routerLink]="'/account/' + fromAccountID" class="address">{{ fromAccountID }}</a>
											</div>
											<div class="pt-2 text-bold negative_change">-{{ rawAmount | qlc: selectedToken.tokenInfo.decimals | currency:'':'':'1.0-'+selectedToken.tokenInfo.decimals }} {{ selectedTokenSymbol }}</div>
											<div class="text-label pb-3">{{ 'SEND_TOKENS_TAB.amount_to_send' | translate }}</div>
										</div>
										<div class="col-lg-6 text-center pt-4 pb-4">
											<div class="text-label pb-2">{{ 'SEND_TOKENS_TAB.to_account' | translate }}</div>
											<div class="pl-5 pr-5 text-truncate pt-1 pb-1">
												<a [routerLink]="'/account/' + toAccountID" class="name">
													<span *ngIf="toAddressBook">{{ toAddressBook }}</span>
													<span class="d-none d-xl-block" *ngIf="!toAddressBook">
														{{ toAccountID | squeeze : '15,15' }}
													</span>
													<span class="d-none d-lg-block d-xl-none" *ngIf="!toAddressBook">
														{{ toAccountID | squeeze : '12,12' }}
													</span>
													<span class="d-none d-md-block d-lg-none" *ngIf="!toAddressBook">
														{{ toAccountID | squeeze : '20,20' }}
													</span>
													<span class="d-none d-sm-block d-md-none" *ngIf="!toAddressBook">
														{{ toAccountID | squeeze : '15,15' }}
													</span>
													<span class="d-block d-sm-none" *ngIf="!toAddressBook">
														{{ toAccountID | squeeze : '12,12' }}
													</span>
												</a>
											</div>
											<div class="pl-5 pr-5 pb-4">
												<a [routerLink]="'/account/' + toAccountID" class="address">{{ toAccountID }}</a>
											</div>
											<div class="pt-2 text-bold positive_change">+{{ rawAmount | qlc: selectedToken.tokenInfo.decimals | currency:'':'':'1.0-'+selectedToken.tokenInfo.decimals }} {{ selectedTokenSymbol }}</div>
											<div class="text-label pb-3">{{ 'SEND_TOKENS_TAB.amount_to_receive' | translate }}</div>
										</div>
									</div>
				
									<div class="row align-items-center justify-content-center rowDefault rowButtons pl-4 pr-4">
										<div class="col-lg-2 col-md-4 col-sm-5 col-12 px-0 pr-sm-2 text-left text-truncate mobile-break mb-2">
											<button type="submit" class="btn-primary btn-red btn-danger w-100" style="min-width:auto; padding-left:0px; padding-right:0px;" (click)="activePanel = 'send'">
												{{ 'CANCEL' | translate }}
											</button>
										</div>
										<div class="col-lg-2 col-md-4 col-sm-5 col-12 px-0 px-sm-2 text-left text-truncate mobile-break mb-2">
											<button type="submit" class="btn btn-primary btn-blue w-100" style="min-width:auto; padding-left:0px; padding-right:0px;" *ngIf="!confirmingTransaction" (click)="confirmTransaction()">
												{{ 'SEND_TOKENS_TAB.confirm_send' | translate }}
											</button>
											<button type="submit" class="btn btn-primary btn-blue w-100" style="min-width:auto; padding-left:0px; padding-right:0px;" *ngIf="confirmingTransaction">
												{{ 'LOADING' | translate }}
											</button>
										</div>
									</div>




						
						
						</div>
					</div>
				</div>
			</div>
		</div>

</div>
